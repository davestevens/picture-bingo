var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function i(t,e,n,o,r,c,s){const i=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,c);if(i){const r=l(e,n,o,s);t.p(r,i)}}function u(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e,n){t.classList[n?"add":"remove"](e)}let x;function y(t){x=t}function w(t){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(t)}const v=[],S=[],_=[],O=[],k=Promise.resolve();let C=!1;function E(t){_.push(t)}let N=!1;const L=new Set;function A(){if(!N){N=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];y(e),B(e.$$)}for(y(null),v.length=0;S.length;)S.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];L.has(e)||(L.add(e),e())}_.length=0}while(v.length);for(;O.length;)O.pop()();C=!1,N=!1,L.clear()}}function B(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const G=new Set;let P;function j(){P={r:0,c:[],p:P}}function I(){P.r||o(P.c),P=P.p}function J(t,e){t&&t.i&&(G.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),P.c.push(()=>{G.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function z(t){t&&t.c()}function R(t,n,c){const{fragment:s,on_mount:l,on_destroy:i,after_update:u}=t.$$;s&&s.m(n,c),E(()=>{const n=l.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(E)}function T(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(v.push(t),C||(C=!0,k.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(e,r,c,s,l,i,u=[-1]){const a=x;y(e);const g=r.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=c?c(e,g,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&D(e,t)),n}):[],d.update(),p=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();r.intro&&J(e.$$.fragment),R(e,r.target,r.anchor),A()}y(a)}class U{$destroy(){T(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function H(e,n=t){let o;const r=[];function s(t){if(c(e,t)&&(e=t,o)){const t=!Y.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Y.push(n,e)}if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,l=t){const i=[c,l];return r.push(i),1===r.length&&(o=n(s)||t),c(e),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const K=H("/"),Q=H({}),V=t=>{const[e,n]=t.split("?");K.set(e),Q.set(W(n)),window.history.pushState({hash:e},"","#"+t)},W=t=>{const e=new URLSearchParams(t);return Object.fromEntries(e.entries())};function X(t){let e,n,o,r,c;const s=t[3].default,u=function(t,e,n,o){if(t){const r=l(t,e,n,o);return t[0](r)}}(s,t,t[2],null);return{c(){e=d("a"),u&&u.c(),h(e,"href",n="#"+t[0])},m(n,s){var l;a(n,e,s),u&&u.m(e,null),o=!0,r||(c=$(e,"click",(l=t[1],function(t){return t.preventDefault(),l.call(this,t)})),r=!0)},p(t,[r]){u&&u.p&&4&r&&i(u,s,t,t[2],r,null,null),(!o||1&r&&n!==(n="#"+t[0]))&&h(e,"href",n)},i(t){o||(J(u,t),o=!0)},o(t){M(u,t),o=!1},d(t){t&&f(e),u&&u.d(t),r=!1,c()}}}function Z(t,e,n){let{$$slots:o={},$$scope:r}=e,{path:c}=e;return t.$$set=t=>{"path"in t&&n(0,c=t.path),"$$scope"in t&&n(2,r=t.$$scope)},[c,()=>{V(c)},r,o]}class tt extends U{constructor(t){super(),F(this,t,Z,X,c,{path:0})}}function et(t){let e;return{c(){e=p("Player")},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function nt(t){let e;return{c(){e=p("Caller")},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function ot(t){let e,n,o,r,c,s,l;return r=new tt({props:{path:"/player",$$slots:{default:[et]},$$scope:{ctx:t}}}),s=new tt({props:{path:"/caller",$$slots:{default:[nt]},$$scope:{ctx:t}}}),{c(){e=d("h1"),e.textContent="Picture Bingo",n=m(),o=d("nav"),z(r.$$.fragment),c=m(),z(s.$$.fragment)},m(t,i){a(t,e,i),a(t,n,i),a(t,o,i),R(r,o,null),u(o,c),R(s,o,null),l=!0},p(t,[e]){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);const o={};1&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o)},i(t){l||(J(r.$$.fragment,t),J(s.$$.fragment,t),l=!0)},o(t){M(r.$$.fragment,t),M(s.$$.fragment,t),l=!1},d(t){t&&f(e),t&&f(n),t&&f(o),T(r),T(s)}}}class rt extends U{constructor(t){super(),F(this,t,null,ot,c,{})}}var ct=(t,e)=>(t=>{const e=t.slice();for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*t),o=e[t];e[t]=e[n],e[n]=o}return e})(t).slice(0,e);const st=["./images/1.png","./images/2.png","./images/3.png","./images/4.png","./images/5.png","./images/6.png","./images/7.png","./images/8.png","./images/9.png","./images/10.png","./images/11.png","./images/12.png","./images/13.png","./images/14.png","./images/15.png","./images/16.png","./images/17.png","./images/18.png","./images/19.png","./images/20.png","./images/21.png","./images/22.png","./images/23.png","./images/24.png"],lt="PLAYER",it=()=>({images:ct(st,6),selected:[]}),ut=(()=>{let t;try{t=JSON.parse(localStorage.getItem(lt))||it()}catch(e){t=it()}const{set:e,update:n,subscribe:o}=H(t);return o(t=>{localStorage.setItem(lt,JSON.stringify(t))}),{subscribe:o,toggleSelected:t=>{n(e=>{const n=e.images.indexOf(t)>-1,o=e.selected.indexOf(t)>-1;return e.selected=o||!n?e.selected.filter(e=>e!==t):e.selected.concat(t),e})},newGame:()=>{e(it())}}})();function at(t){let e,n;return{c(){e=d("img"),e.src!==(n=t[0])&&h(e,"src",n),h(e,"alt",""),h(e,"class","svelte-3qb0ma")},m(t,n){a(t,e,n)},p(t,o){1&o&&e.src!==(n=t[0])&&h(e,"src",n)},d(t){t&&f(e)}}}function ft(e){let n,o,c,s=e[0]&&at(e);return{c(){n=d("div"),s&&s.c(),h(n,"class","cell svelte-3qb0ma"),b(n,"selected",e[2]),b(n,"selectable",e[3])},m(t,l){a(t,n,l),s&&s.m(n,null),o||(c=$(n,"click",(function(){r(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,[o]){(e=t)[0]?s?s.p(e,o):(s=at(e),s.c(),s.m(n,null)):s&&(s.d(1),s=null),4&o&&b(n,"selected",e[2]),8&o&&b(n,"selectable",e[3])},i:t,o:t,d(t){t&&f(n),s&&s.d(),o=!1,c()}}}function gt(t,e,n){let{image:o}=e,{onSelect:r=null}=e,{selected:c=!1}=e;const s=!!r;return t.$$set=t=>{"image"in t&&n(0,o=t.image),"onSelect"in t&&n(1,r=t.onSelect),"selected"in t&&n(2,c=t.selected)},[o,r,c,s]}class dt extends U{constructor(t){super(),F(this,t,gt,ft,c,{image:0,onSelect:1,selected:2})}}function pt(t,e,n){const o=t.slice();return o[4]=e[n],o}function mt(t){let e,n;function o(...e){return t[3](t[4],...e)}return e=new dt({props:{image:t[0].images.indexOf(t[4])>-1?t[4]:"",onSelect:t[0].images.indexOf(t[4])>-1?o:null,selected:t[0].selected.indexOf(t[4])>-1}}),{c(){z(e.$$.fragment)},m(t,o){R(e,t,o),n=!0},p(n,r){t=n;const c={};1&r&&(c.image=t[0].images.indexOf(t[4])>-1?t[4]:""),1&r&&(c.onSelect=t[0].images.indexOf(t[4])>-1?o:null),1&r&&(c.selected=t[0].selected.indexOf(t[4])>-1),e.$set(c)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function $t(t){let e;return{c(){e=p("Back")},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function ht(t){let e,n,o,r,c,s,l,i,p,b,x,y=st,w=[];for(let e=0;e<y.length;e+=1)w[e]=mt(pt(t,y,e));const v=t=>M(w[t],1,1,()=>{w[t]=null});return i=new tt({props:{path:"/",$$slots:{default:[$t]},$$scope:{ctx:t}}}),{c(){e=d("h1"),e.textContent="Player",n=m(),o=d("div");for(let t=0;t<w.length;t+=1)w[t].c();r=m(),c=d("div"),s=d("button"),s.textContent="New Game",l=m(),z(i.$$.fragment),h(o,"class","grid svelte-1zauhb")},m(f,g){a(f,e,g),a(f,n,g),a(f,o,g);for(let t=0;t<w.length;t+=1)w[t].m(o,null);a(f,r,g),a(f,c,g),u(c,s),u(c,l),R(i,c,null),p=!0,b||(x=$(s,"click",t[1]),b=!0)},p(t,[e]){if(5&e){let n;for(y=st,n=0;n<y.length;n+=1){const r=pt(t,y,n);w[n]?(w[n].p(r,e),J(w[n],1)):(w[n]=mt(r),w[n].c(),J(w[n],1),w[n].m(o,null))}for(j(),n=y.length;n<w.length;n+=1)v(n);I()}const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){if(!p){for(let t=0;t<y.length;t+=1)J(w[t]);J(i.$$.fragment,t),p=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)M(w[t]);M(i.$$.fragment,t),p=!1},d(t){t&&f(e),t&&f(n),t&&f(o),g(w,t),t&&f(r),t&&f(c),T(i),b=!1,x()}}}function bt(t,e,n){let o;s(t,ut,t=>n(0,o=t));const r=t=>{ut.toggleSelected(t)};return[o,()=>{confirm("Start a new game?")&&ut.newGame()},r,t=>r(t)]}class xt extends U{constructor(t){super(),F(this,t,bt,ht,c,{})}}const yt="CALLER",wt=()=>({selected:[],shuffled:ct(st,st.length)}),vt=(()=>{let t;try{t=JSON.parse(localStorage.getItem(yt))||wt()}catch(e){t=wt()}const{set:e,update:n,subscribe:o}=H(t);return o(t=>{localStorage.setItem(yt,JSON.stringify(t))}),{subscribe:o,selectNext:()=>{n(t=>{const e=t.shuffled.pop();return e&&(t.selected=[...t.selected,e]),t})},newGame:()=>{e(wt())}}})();function St(t,e,n){const o=t.slice();return o[3]=e[n],o}function _t(t){let e,n;return e=new dt({props:{image:t[3],selected:t[0].selected.indexOf(t[3])>-1}}),{c(){z(e.$$.fragment)},m(t,o){R(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.selected=t[0].selected.indexOf(t[3])>-1),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ot(t){let e;return{c(){e=p("Back")},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function kt(t){let e,n,r,c,s,l,i,p,b,x,y,w,v,S=st,_=[];for(let e=0;e<S.length;e+=1)_[e]=_t(St(t,S,e));const O=t=>M(_[t],1,1,()=>{_[t]=null});return x=new tt({props:{path:"/",$$slots:{default:[Ot]},$$scope:{ctx:t}}}),{c(){e=d("h1"),e.textContent="Caller",n=m(),r=d("button"),r.textContent="Select",c=m(),s=d("div");for(let t=0;t<_.length;t+=1)_[t].c();l=m(),i=d("div"),p=d("button"),p.textContent="New Game",b=m(),z(x.$$.fragment),h(s,"class","grid svelte-1zauhb")},m(o,f){a(o,e,f),a(o,n,f),a(o,r,f),a(o,c,f),a(o,s,f);for(let t=0;t<_.length;t+=1)_[t].m(s,null);a(o,l,f),a(o,i,f),u(i,p),u(i,b),R(x,i,null),y=!0,w||(v=[$(r,"click",t[2]),$(p,"click",t[1])],w=!0)},p(t,[e]){if(1&e){let n;for(S=st,n=0;n<S.length;n+=1){const o=St(t,S,n);_[n]?(_[n].p(o,e),J(_[n],1)):(_[n]=_t(o),_[n].c(),J(_[n],1),_[n].m(s,null))}for(j(),n=S.length;n<_.length;n+=1)O(n);I()}const n={};64&e&&(n.$$scope={dirty:e,ctx:t}),x.$set(n)},i(t){if(!y){for(let t=0;t<S.length;t+=1)J(_[t]);J(x.$$.fragment,t),y=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)M(_[t]);M(x.$$.fragment,t),y=!1},d(t){t&&f(e),t&&f(n),t&&f(r),t&&f(c),t&&f(s),g(_,t),t&&f(l),t&&f(i),T(x),w=!1,o(v)}}}function Ct(t,e,n){let o;s(t,vt,t=>n(0,o=t));return[o,()=>{confirm("Start a new game?")&&vt.newGame()},()=>{vt.selectNext()}]}class Et extends U{constructor(t){super(),F(this,t,Ct,kt,c,{})}}const{window:Nt}=q;function Lt(t){let e,n,o,r,c;var s=t[1][""+t[0]];return s&&(n=new s({})),{c(){e=d("main"),n&&z(n.$$.fragment),h(e,"class","svelte-myln10")},m(s,l){a(s,e,l),n&&R(n,e,null),o=!0,r||(c=$(Nt,"popstate",t[2]),r=!0)},p(t,[o]){if(s!==(s=t[1][""+t[0]])){if(n){j();const t=n;M(t.$$.fragment,1,0,()=>{T(t,1)}),I()}s?(n=new s({}),z(n.$$.fragment),J(n.$$.fragment,1),R(n,e,null)):n=null}},i(t){o||(n&&J(n.$$.fragment,t),o=!0)},o(t){n&&M(n.$$.fragment,t),o=!1},d(t){t&&f(e),n&&T(n),r=!1,c()}}}function At(t,e,n){let o;s(t,K,t=>n(0,o=t));const r={"/":rt,"/player":xt,"/caller":Et};w(()=>{history.state||window.history.replaceState({hash:""},"","#/"),V(window.location.hash.substr(1))});return[o,r,t=>{V(t.state.hash)}]}return new class extends U{constructor(t){super(),F(this,t,At,Lt,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
